<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Smart-Contracts/solana-101/index">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<title data-rh="true">Solana Programs | Multiversity</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://multiversity.wefuzz.io//smart-contracts/solana-programs"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Solana Programs | Multiversity"><meta data-rh="true" name="description" content="Solana Programs"><meta data-rh="true" property="og:description" content="Solana Programs"><link data-rh="true" rel="icon" href="/img/multiversityx1.png"><link data-rh="true" rel="canonical" href="https://multiversity.wefuzz.io//smart-contracts/solana-programs"><link data-rh="true" rel="alternate" href="https://multiversity.wefuzz.io//smart-contracts/solana-programs" hreflang="en"><link data-rh="true" rel="alternate" href="https://multiversity.wefuzz.io//smart-contracts/solana-programs" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.69640c8f.css">
<link rel="preload" href="/assets/js/runtime~main.837c66bb.js" as="script">
<link rel="preload" href="/assets/js/main.ac57620b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/multiversityx1.png" alt="&lt;multiversity&gt;" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/multiversityx1.png" alt="&lt;multiversity&gt;" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Multiversity</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">üëæ WeFuzz Multiversity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contributors">Contributors üë¨üë≠</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/blockchain">Blockchain ‚õìÔ∏è</a><button aria-label="Toggle the collapsible sidebar category &#x27;Blockchain ‚õìÔ∏è&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/smart-contracts">Smart Contracts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Smart Contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Smart-Contracts/day-2-toc">ToC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Smart-Contracts/smart-contract-lifecycle">The Smart Contract Lifecycle</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/smart-contracts/solidity-101">Solidity</a><button aria-label="Toggle the collapsible sidebar category &#x27;Solidity&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/smart-contracts/solana">Solana</a><button aria-label="Toggle the collapsible sidebar category &#x27;Solana&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/smart-contracts/solana-programs">Solana Programs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/smart-contracts/solana-spl">Solana Program Library</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/vulnerabilities-and-exploits">Vulnerabilities and Exploits üí£</a><button aria-label="Toggle the collapsible sidebar category &#x27;Vulnerabilities and Exploits üí£&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/post-mortem-reports">Post-mortem Reports</a><button aria-label="Toggle the collapsible sidebar category &#x27;Post-mortem Reports&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/tools">Tools üõ†Ô∏è</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools üõ†Ô∏è&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/writeups">Writeups üìù</a><button aria-label="Toggle the collapsible sidebar category &#x27;Writeups üìù&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Books">üìö Books</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sources">‚ÑπÔ∏è Sources</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="solana-programs">Solana Programs<a class="hash-link" href="#solana-programs" title="Direct link to heading">‚Äã</a></h2><p>Solana Programs, often referred to as &quot;smart contracts&quot; on other blockchains, are the executable code that interprets the instructions sent inside of each transaction on the blockchain.</p><p>Solana <code>programs</code> are compiled via the LLVM compiler infrastructure to an Executable and Linkable Format (ELF) containing a variation of the <code>Berkeley Packet Filter</code> (BPF) bytecode. This LLVM compiler infrastructure allows for a program may be written in any programming language that can target the LLVM&#x27;s BPF backend. Solana currently supports writing programs in Rust, C/C++ and a Python Transpiler.</p><p><img loading="lazy" alt="bpf" src="/assets/images/ebpf-474f8cf2581479a1a8f3f77538b67681.png" width="1159" height="191" class="img_ev3q"></p><p><img loading="lazy" alt="Solana Programming" src="/assets/images/solana_programming-f6179b58fd60cb336f2c49389a52c262.png" width="1600" height="1035" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="solana-development-setup">Solana Development Setup<a class="hash-link" href="#solana-development-setup" title="Direct link to heading">‚Äã</a></h2><p>Install RUST</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl --proto &#x27;=https&#x27; --tlsv1.2 -sSf https://sh.rustup.rs | sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Install Solana CLI and update your <code>PATH</code> environment variable to include the solana programs:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sh -c &quot;$(curl -sSfL https://release.solana.com/stable/install)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Using Solana CLI:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">solana --help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="solana cli 0x1" src="/assets/images/solana_cli_0x1-1167470cabecc45871e360064ffea012.png" width="1080" height="514" class="img_ev3q"></p><p>It is possible to write contracts using <a href="https://docs.rs/solana-program/latest/solana_program/" target="_blank" rel="noopener noreferrer">solana-program</a> and <code>Anchor</code> framework.</p><p><a href="https://www.anchor-lang.com/" target="_blank" rel="noopener noreferrer">Anchor</a> is a framework for Solana&#x27;s Sealevel runtime providing several convenient developer tools for writing smart contracts.</p><p>Every Solana <code>program</code> has a set of <code>instructions</code> that are executed when a transaction is sent to the program.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">solana-labs/solana/sdk/program/src/instruction.rs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">/// A compact encoding of an instruction.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/// A `CompiledInstruction` is a component of a multi-instruction [`Message`],</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/// which is the core of a Solana transaction. It is created during the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/// construction of `Message`. Most users will not interact with it directly.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/// [`Message`]: crate::message::Message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(241, 250, 140)">#[derive(Serialize, Deserialize, Debug, PartialEq, Eq, Clone, AbiExample)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(241, 250, 140)">#[serde(rename_all = </span><span class="token attribute attr-name string" style="color:rgb(255, 121, 198)">&quot;camelCase&quot;</span><span class="token attribute attr-name" style="color:rgb(241, 250, 140)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token type-definition class-name">CompiledInstruction</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Index into the transaction keys array indicating the program account that executes this instruction.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">pub</span><span class="token plain"> program_id_index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Ordered indices into the transaction keys array indicating which accounts to pass to the program.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(241, 250, 140)">#[serde(with = </span><span class="token attribute attr-name string" style="color:rgb(255, 121, 198)">&quot;short_vec&quot;</span><span class="token attribute attr-name" style="color:rgb(241, 250, 140)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">pub</span><span class="token plain"> accounts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u8</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// The program input data.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(241, 250, 140)">#[serde(with = </span><span class="token attribute attr-name string" style="color:rgb(255, 121, 198)">&quot;short_vec&quot;</span><span class="token attribute attr-name" style="color:rgb(241, 250, 140)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">pub</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u8</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>An instruction contains three main pieces of info:</p><ul><li>A <code>program</code> ID which references the location of the code we are be calling</li><li>Set of <code>accounts</code> being used and whether each one is a <code>signer</code> and/or <code>writable</code></li><li>A buffer with some <code>data</code> in it, which functions as calldata.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concepts">Concepts<a class="hash-link" href="#concepts" title="Direct link to heading">‚Äã</a></h2><p>In Ethereum and other EVM-based platforms, the <code>data</code> and <code>code</code> of a smart contract are <code>coupled</code> together. This means that the data stored by a smart contract and the code that processes that data are all stored in the same contract.</p><p>Whereas, in Solana, the <code>data</code> and the <code>code</code> are <code>decoupled</code>. In Solana, the <code>data</code> of a smart contract is stored in a separate data contract, while the <code>code</code> that processes that data is stored in an <code>executable</code> contract. This separation of <code>data</code> and <code>code</code> allows transactions to be processed in parallel, rather than sequentially, which can improve the overall performance of the platform.</p><p>One potential downside of decoupling the data and code of smart contracts is that it can make it more difficult to understand the overall behavior of a contract. In EVM-based platforms like Ethereum, all of the relevant information (data and code) for a contract is contained in a single location, which can make it easier to understand how the contract works.</p><p>Refer to <a href="https://docs.solana.com/developers" target="_blank" rel="noopener noreferrer">Getting Started with Solana Development</a> for more information on how to develop Solana Smart Contracts.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ebpf">eBPF<a class="hash-link" href="#ebpf" title="Direct link to heading">‚Äã</a></h2><p>eBPF is a revolutionary technology with origins in the Linux kernel that can run sandboxed programs in an operating system kernel. </p><ul><li><a href="https://github.com/solana-labs/rbpf" target="_blank" rel="noopener noreferrer">rbpf</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-map">Memory map<a class="hash-link" href="#memory-map" title="Direct link to heading">‚Äã</a></h3><p>The virtual address memory map used by Solana BPF programs is fixed and laid out as follows:</p><ul><li>Program code starts at <em>0x100000000</em></li><li>Stack data starts at <em>0x200000000</em></li><li>Heap data starts at <em>0x300000000</em></li><li>Program input parameters start at <em>0x400000000</em></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stack--heap">Stack &amp; Heap<a class="hash-link" href="#stack--heap" title="Direct link to heading">‚Äã</a></h3><p>Solana Programs use Stack and Heap memory for different purposes. BPF uses <code>stack</code> frames instead of a variable stack pointer. Each stack frame is <code>4KB</code> in size. BPF <code>stack frames</code> occupy a virtual address range starting at <code>0x200000000</code>.</p><p>If a program violates that stack frame size, the compiler will report the overrun as a warning The reason a warning is reported rather than an error is because some dependent crates may include functionality that violates the stack frame restrictions even if the program doesn&#x27;t use that functionality. If the program violates the stack size at runtime, an AccessViolation error will be reported.</p><p>Programs have access to a runtime <code>heap</code> either directly in <code>C</code> or via the <code>Rust</code> <code>alloc</code> APIs. To facilitate fast allocations, a simple 32KB bump heap is utilized. The heap does not support free or realloc so use it wisely. Internally, programs have access to the <code>32KB</code> memory region starting at virtual address <code>0x300000000</code> and may implement a custom <code>heap</code> based on the program&#x27;s specific needs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-is-a-solana-program-deployed">How is a Solana program deployed<a class="hash-link" href="#how-is-a-solana-program-deployed" title="Direct link to heading">‚Äã</a></h2><p>Solana Programs are pretty much like any other <code>account</code> but with the exception of having the <code>executable</code> flag set to <code>true</code> and the <code>owner</code> being assigned to a <code>BPF loader</code>.</p><ul><li><code>Owner</code>: The loader this program was deployed with.</li><li><code>Program Id</code> is the address that can be referenced in an instruction&#x27;s <code>program_id</code> field when invoking a program.</li><li><code>ProgramData Address</code> is the account associated with the program account that holds the program&#x27;s data (shared object).</li><li><code>Authority</code> is the program&#x27;s upgrade authority.</li><li><code>Last Deployed In Slot</code> is the slot in which the program was last deployed.</li><li><code>Data Length</code> is the size of the space reserved for deployments. The actual space used by the currently deployed program may be less.</li></ul><p>The native program responsible for program deployment, upgrade, and execution of the programs on the chain is BPFLoaderUpgradeab1e.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">solana-labs/solana/sdk/program/src/bpf_loader_upgradeable.rs#L28</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">/// Upgradeable loader account states</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(241, 250, 140)">#[derive(Debug, Serialize, Deserialize, PartialEq, Clone, Copy, AbiExample)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">enum</span><span class="token plain"> </span><span class="token type-definition class-name">UpgradeableLoaderState</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Account is not initialized.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">Uninitialized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// A Buffer account.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">Buffer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Authority address</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        authority_address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">Pubkey</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// The raw program data follows this serialized structure in the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// account&#x27;s data.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/// An Program account.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">Program</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Address of the ProgramData account.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        programdata_address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Pubkey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// A ProgramData account.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">ProgramData</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Slot that the program was last modified.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        slot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">/// Address of the Program&#x27;s upgrade authority.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        upgrade_authority_address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">Pubkey</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// The raw program data follows this serialized structure in the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// account&#x27;s data.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The BPF Upgradeable Loader marks itself as &quot;owner&quot; of the executable and <code>program-data</code> accounts it creates to store user&#x27;s program. When a user invokes an <code>instruction</code> via a <code>program_id</code>, the Solana runtime will load both the user&#x27;s <code>program</code> and its <code>owner</code>, the BPF Upgradeable Loader. The runtime then passes the user&#x27;s program to the BPF Upgradeable Loader to process the instruction.</p><p>The command used to deploy a Solana Program:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">solana program deploy &lt;PROGRAM_FILEPATH&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command invokes multiple function calls in the Solana Cli and a series of transactions:</p><p>1) <code>read_and_verify_elf</code>
2) if it&#x27;s deploy <code>do_process_program_write_and_deploy</code> and if it&#x27;s upgrade <code>do_process_program_upgrade</code>
3) finalize the deployment by setting the authority <code>process_set_authority</code>.</p><p><code>read_and_verify_elf</code> is a simple program that reads the Solana Program file from given location on system and creates a loader, and verifies if it&#x27;s a valid ELF file or not by calling <code>Executable::&lt;InvokeContext&gt;::from_elf</code>.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(80, 250, 123)">read_and_verify_elf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">program_location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-&gt;</span><span class="token plain"> </span><span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u8</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Box</span><span class="token operator">&lt;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">dyn</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token namespace">error</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token class-name">Error</span><span class="token operator">&gt;&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">mut</span><span class="token plain"> file </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">File</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">program_location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">map_err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token closure-params">err</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token macro property">format!</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Unable to open program file: {err}&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">mut</span><span class="token plain"> program_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Vec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">read_to_end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">&amp;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">mut</span><span class="token plain"> program_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">map_err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token closure-params">err</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token macro property">format!</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Unable to read program file: {err}&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">mut</span><span class="token plain"> transaction_context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">TransactionContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Vec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Some</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Rent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> invoke_context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">InvokeContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">new_mock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">&amp;</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">mut</span><span class="token plain"> transaction_context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Verify the program</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> loader </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">create_loader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&amp;</span><span class="token plain">invoke_context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">feature_set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&amp;</span><span class="token class-name">ComputeBudget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">unwrap</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> executable </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Executable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token operator">&lt;</span><span class="token class-name">InvokeContext</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">from_elf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">&amp;</span><span class="token plain">program_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> loader</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">map_err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token closure-params">err</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token macro property">format!</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ELF error: {err}&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> _ </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">VerifiedExecutable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token operator">&lt;</span><span class="token class-name">RequisiteVerifier</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">InvokeContext</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">from_executable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">executable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">map_err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token closure-params">err</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token plain"> </span><span class="token macro property">format!</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ELF error: {err}&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">Ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">program_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>do_process_program_write_and_deploy</code> functions initializes a program account by calling </p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token namespace">system_instruction</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">create_account</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&amp;</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">signers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">pubkey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    buffer_pubkey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    minimum_balance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    program_len </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">u64</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loader_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and the ELF data is uploaded to the created account.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token namespace">loader_instruction</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">buffer_pubkey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> loader_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> offset</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Solana programs can be <code>upgraded</code> by default. That is, it is possible to <code>redeploy</code> a new ELF object (<code>BPF</code> bytecode) to the same Solana program account.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">solana program deploy --upgrade-authority</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="solana-deploy" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTYiIGhlaWdodD0iMzM2Ij4KICAgIDxzdHlsZT4KICAgICAgICBsaW5lLCBwYXRoLCBjaXJjbGUsIHJlY3QsIHBvbHlnb257c3Ryb2tlOmJsYWNrO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1vcGFjaXR5OjE7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO310ZXh0e2ZvbnQtZmFtaWx5Oklvc2V2a2EgRml4ZWQsIG1vbm9zcGFjZTtmb250LXNpemU6MTRweDt9cmVjdC5iYWNrZHJvcHtzdHJva2U6bm9uZTtmaWxsOndoaXRlO30uYnJva2Vue3N0cm9rZS1kYXNoYXJyYXk6ODt9LmZpbGxlZHtmaWxsOmJsYWNrO30uYmdfZmlsbGVke2ZpbGw6d2hpdGU7fS5ub2ZpbGx7ZmlsbDp3aGl0ZTt9LmVuZF9tYXJrZWRfYXJyb3d7bWFya2VyLWVuZDp1cmwoI2Fycm93KTt9LnN0YXJ0X21hcmtlZF9hcnJvd3ttYXJrZXItc3RhcnQ6dXJsKCNhcnJvdyk7fS5lbmRfbWFya2VkX2RpYW1vbmR7bWFya2VyLWVuZDp1cmwoI2RpYW1vbmQpO30uc3RhcnRfbWFya2VkX2RpYW1vbmR7bWFya2VyLXN0YXJ0OnVybCgjZGlhbW9uZCk7fS5lbmRfbWFya2VkX2NpcmNsZXttYXJrZXItZW5kOnVybCgjY2lyY2xlKTt9LnN0YXJ0X21hcmtlZF9jaXJjbGV7bWFya2VyLXN0YXJ0OnVybCgjY2lyY2xlKTt9LmVuZF9tYXJrZWRfb3Blbl9jaXJjbGV7bWFya2VyLWVuZDp1cmwoI29wZW5fY2lyY2xlKTt9LnN0YXJ0X21hcmtlZF9vcGVuX2NpcmNsZXttYXJrZXItc3RhcnQ6dXJsKCNvcGVuX2NpcmNsZSk7fS5lbmRfbWFya2VkX2JpZ19vcGVuX2NpcmNsZXttYXJrZXItZW5kOnVybCgjYmlnX29wZW5fY2lyY2xlKTt9LnN0YXJ0X21hcmtlZF9iaWdfb3Blbl9jaXJjbGV7bWFya2VyLXN0YXJ0OnVybCgjYmlnX29wZW5fY2lyY2xlKTt9CiAgICAgICAgPCEtLXNlcGFyYXRvci0tPgogICAgICAgIAogICAgPC9zdHlsZT4KICAgIDxkZWZzPgogICAgICAgIDxtYXJrZXIgaWQ9ImFycm93IiB2aWV3Qm94PSItMiAtMiA4IDgiIHJlZlg9IjQiIHJlZlk9IjIiIG1hcmtlcldpZHRoPSI3IiBtYXJrZXJIZWlnaHQ9IjciIG9yaWVudD0iYXV0by1zdGFydC1yZXZlcnNlIj4KICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSIwLDAgMCw0IDQsMiAwLDAiPjwvcG9seWdvbj4KICAgICAgICA8L21hcmtlcj4KICAgICAgICA8bWFya2VyIGlkPSJkaWFtb25kIiB2aWV3Qm94PSItMiAtMiA4IDgiIHJlZlg9IjQiIHJlZlk9IjIiIG1hcmtlcldpZHRoPSI3IiBtYXJrZXJIZWlnaHQ9IjciIG9yaWVudD0iYXV0by1zdGFydC1yZXZlcnNlIj4KICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSIwLDIgMiwwIDQsMiAyLDQgMCwyIj48L3BvbHlnb24+CiAgICAgICAgPC9tYXJrZXI+CiAgICAgICAgPG1hcmtlciBpZD0iY2lyY2xlIiB2aWV3Qm94PSIwIDAgOCA4IiByZWZYPSI0IiByZWZZPSI0IiBtYXJrZXJXaWR0aD0iNyIgbWFya2VySGVpZ2h0PSI3IiBvcmllbnQ9ImF1dG8tc3RhcnQtcmV2ZXJzZSI+CiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjQiIGN5PSI0IiByPSIyIiBjbGFzcz0iZmlsbGVkIj48L2NpcmNsZT4KICAgICAgICA8L21hcmtlcj4KICAgICAgICA8bWFya2VyIGlkPSJvcGVuX2NpcmNsZSIgdmlld0JveD0iMCAwIDggOCIgcmVmWD0iNCIgcmVmWT0iNCIgbWFya2VyV2lkdGg9IjciIG1hcmtlckhlaWdodD0iNyIgb3JpZW50PSJhdXRvLXN0YXJ0LXJldmVyc2UiPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI0IiBjeT0iNCIgcj0iMiIgY2xhc3M9ImJnX2ZpbGxlZCI+PC9jaXJjbGU+CiAgICAgICAgPC9tYXJrZXI+CiAgICAgICAgPG1hcmtlciBpZD0iYmlnX29wZW5fY2lyY2xlIiB2aWV3Qm94PSIwIDAgOCA4IiByZWZYPSI0IiByZWZZPSI0IiBtYXJrZXJXaWR0aD0iNyIgbWFya2VySGVpZ2h0PSI3IiBvcmllbnQ9ImF1dG8tc3RhcnQtcmV2ZXJzZSI+CiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjQiIGN5PSI0IiByPSIzIiBjbGFzcz0iYmdfZmlsbGVkIj48L2NpcmNsZT4KICAgICAgICA8L21hcmtlcj4KICAgIDwvZGVmcz4KICAgIDxyZWN0IGNsYXNzPSJiYWNrZHJvcCIgeD0iMCIgeT0iMCIgd2lkdGg9IjQ1NiIgaGVpZ2h0PSIzMzYiPjwvcmVjdD4KICAgIDx0ZXh0IHg9IjE1NCIgeT0iNDQiID5Tb2xhbmE8L3RleHQ+CiAgICA8dGV4dCB4PSIyMTAiIHk9IjQ0IiA+UnVudGltZTwvdGV4dD4KICAgIDx0ZXh0IHg9IjM0IiB5PSI5MiIgPlByb2dyYW08L3RleHQ+CiAgICA8dGV4dCB4PSIxODYiIHk9IjkyIiA+QlBGPC90ZXh0PgogICAgPHRleHQgeD0iMzIyIiB5PSI5MiIgPkV4ZWN1dGFibGU8L3RleHQ+CiAgICA8dGV4dCB4PSIzNCIgeT0iMTA4IiA+QXV0aG9yPC90ZXh0PgogICAgPHRleHQgeD0iMTg2IiB5PSIxMDgiID5CeXRlY29kZTwvdGV4dD4KICAgIDx0ZXh0IHg9IjMyMiIgeT0iMTA4IiA+QWNjb3VudDwvdGV4dD4KICAgIDxsaW5lIHgxPSIxNDAiIHkxPSIxMTIiIHgyPSIxNDAiIHkyPSIyNDAiIGNsYXNzPSJzb2xpZCI+PC9saW5lPgogICAgPHRleHQgeD0iMTg2IiB5PSIxMjQiID5WZXJpZmllcjwvdGV4dD4KICAgIDx0ZXh0IHg9IjEwNiIgeT0iMTQwIiA+YDwvdGV4dD4KICAgIDx0ZXh0IHg9IjI3NCIgeT0iMTQwIiA+YDwvdGV4dD4KICAgIDx0ZXh0IHg9IjQxMCIgeT0iMTQwIiA+YDwvdGV4dD4KICAgIDxsaW5lIHgxPSIzNjQiIHkxPSIxNDQiIHgyPSIzNjQiIHkyPSIxNjAiIGNsYXNzPSJzb2xpZCI+PC9saW5lPgogICAgPHRleHQgeD0iMzYyIiB5PSIxNzIiID5gPC90ZXh0PgogICAgPHRleHQgeD0iMjUwIiB5PSIxODgiID5Mb2FkQWNjb3VudHM8L3RleHQ+CiAgICA8dGV4dCB4PSIxOTQiIHk9IjIzNiIgPkJQRjwvdGV4dD4KICAgIDx0ZXh0IHg9IjMyMiIgeT0iMjM2IiA+QlBGPC90ZXh0PgogICAgPHRleHQgeD0iMTk0IiB5PSIyNTIiID5Mb2FkZXI8L3RleHQ+CiAgICA8dGV4dCB4PSIzMjIiIHk9IjI1MiIgPkludGVycHJldGVyPC90ZXh0PgogICAgPHRleHQgeD0iMTA2IiB5PSIyODQiID5gPC90ZXh0PgogICAgPHRleHQgeD0iMjc0IiB5PSIyODQiID5gPC90ZXh0PgogICAgPHRleHQgeD0iNDE4IiB5PSIyODQiID5gPC90ZXh0PgogICAgPHRleHQgeD0iNDQyIiB5PSIzMTYiID5gPC90ZXh0PgogICAgPHRleHQgeD0iNDIiIHk9IjI1MiIgPkNsaWVudDwvdGV4dD4KICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0gMTQ0LDI0IEEgNCw0IDAsMCwwIDE0MCwyOCIgY2xhc3M9Im5vZmlsbCI+PC9wYXRoPgogICAgICAgIDxsaW5lIHgxPSIxNDAiIHkxPSIyOCIgeDI9IjE0MCIgeTI9Ijk2IiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8bGluZSB4MT0iMTQ0IiB5MT0iMjQiIHgyPSI0NDAiIHkyPSIyNCIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPHBhdGggZD0iTSA0NDAsMjQgQSA0LDQgMCwwLDEgNDQ0LDI4IiBjbGFzcz0ibm9maWxsIj48L3BhdGg+CiAgICAgICAgPGxpbmUgeDE9IjQ0NCIgeTE9IjI4IiB4Mj0iNDQ0IiB5Mj0iMzA0IiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgIDwvZz4KICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0gMjQsNzIgQSA0LDQgMCwwLDAgMjAsNzYiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iMjAiIHkxPSI3NiIgeDI9IjIwIiB5Mj0iMTMyIiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8bGluZSB4MT0iMjQiIHkxPSI3MiIgeDI9IjEwNCIgeTI9IjcyIiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8cGF0aCBkPSJNIDEwNCw3MiBBIDQsNCAwLDAsMSAxMDgsNzYiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iMTA4IiB5MT0iNzYiIHgyPSIxMDgiIHkyPSIxMjgiIGNsYXNzPSJzb2xpZCI+PC9saW5lPgogICAgICAgIDxsaW5lIHgxPSIxMDgiIHkxPSIxMDQiIHgyPSIxNjAiIHkyPSIxMDQiIGNsYXNzPSJzb2xpZCI+PC9saW5lPgogICAgICAgIDxwb2x5Z29uIHBvaW50cz0iMTYwLDEwMCAxNjgsMTA0IDE2MCwxMDgiIGNsYXNzPSJmaWxsZWQiPjwvcG9seWdvbj4KICAgICAgICA8cGF0aCBkPSJNIDIwLDEzMiBBIDQsNCAwLDAsMCAyNCwxMzYiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iMjQiIHkxPSIxMzYiIHgyPSIxMDQiIHkyPSIxMzYiIGNsYXNzPSJzb2xpZCI+PC9saW5lPgogICAgPC9nPgogICAgPGc+CiAgICAgICAgPHBhdGggZD0iTSAxNzYsNzIgQSA0LDQgMCwwLDAgMTcyLDc2IiBjbGFzcz0ibm9maWxsIj48L3BhdGg+CiAgICAgICAgPGxpbmUgeDE9IjE3MiIgeTE9Ijc2IiB4Mj0iMTcyIiB5Mj0iMTMyIiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8bGluZSB4MT0iMTc2IiB5MT0iNzIiIHgyPSIyNzIiIHkyPSI3MiIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPHBhdGggZD0iTSAyNzIsNzIgQSA0LDQgMCwwLDEgMjc2LDc2IiBjbGFzcz0ibm9maWxsIj48L3BhdGg+CiAgICAgICAgPGxpbmUgeDE9IjI3NiIgeTE9Ijc2IiB4Mj0iMjc2IiB5Mj0iMTI4IiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8bGluZSB4MT0iMjc2IiB5MT0iMTA0IiB4Mj0iMjk2IiB5Mj0iMTA0IiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8cG9seWdvbiBwb2ludHM9IjI5NiwxMDAgMzA0LDEwNCAyOTYsMTA4IiBjbGFzcz0iZmlsbGVkIj48L3BvbHlnb24+CiAgICAgICAgPHBhdGggZD0iTSAxNzIsMTMyIEEgNCw0IDAsMCwwIDE3NiwxMzYiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iMTc2IiB5MT0iMTM2IiB4Mj0iMjcyIiB5Mj0iMTM2IiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgIDwvZz4KICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0gMzEyLDcyIEEgNCw0IDAsMCwwIDMwOCw3NiIgY2xhc3M9Im5vZmlsbCI+PC9wYXRoPgogICAgICAgIDxsaW5lIHgxPSIzMDgiIHkxPSI3NiIgeDI9IjMwOCIgeTI9IjEzMiIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPGxpbmUgeDE9IjMxMiIgeTE9IjcyIiB4Mj0iNDA4IiB5Mj0iNzIiIGNsYXNzPSJzb2xpZCI+PC9saW5lPgogICAgICAgIDxwYXRoIGQ9Ik0gNDA4LDcyIEEgNCw0IDAsMCwxIDQxMiw3NiIgY2xhc3M9Im5vZmlsbCI+PC9wYXRoPgogICAgICAgIDxsaW5lIHgxPSI0MTIiIHkxPSI3NiIgeDI9IjQxMiIgeTI9IjEyOCIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPHBhdGggZD0iTSAzMDgsMTMyIEEgNCw0IDAsMCwwIDMxMiwxMzYiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iMzEyIiB5MT0iMTM2IiB4Mj0iNDA4IiB5Mj0iMTM2IiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgIDwvZz4KICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0gMjMyLDE2OCBBIDQsNCAwLDAsMCAyMjgsMTcyIiBjbGFzcz0ibm9maWxsIj48L3BhdGg+CiAgICAgICAgPGxpbmUgeDE9IjIyOCIgeTE9IjE3MiIgeDI9IjIyOCIgeTI9IjE5NiIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPGxpbmUgeDE9IjIzMiIgeTE9IjE2OCIgeDI9IjM2MCIgeTI9IjE2OCIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPHBvbHlnb24gcG9pbnRzPSIyMjQsMTk2IDIzMiwxOTYgMjI4LDIwOCIgY2xhc3M9ImZpbGxlZCI+PC9wb2x5Z29uPgogICAgPC9nPgogICAgPGc+CiAgICAgICAgPHBhdGggZD0iTSAyNCwyMTYgQSA0LDQgMCwwLDAgMjAsMjIwIiBjbGFzcz0ibm9maWxsIj48L3BhdGg+CiAgICAgICAgPGxpbmUgeDE9IjIwIiB5MT0iMjIwIiB4Mj0iMjAiIHkyPSIyNzYiIGNsYXNzPSJzb2xpZCI+PC9saW5lPgogICAgICAgIDxsaW5lIHgxPSIyNCIgeTE9IjIxNiIgeDI9IjEwNCIgeTI9IjIxNiIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPHBhdGggZD0iTSAxMDQsMjE2IEEgNCw0IDAsMCwxIDEwOCwyMjAiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iMTA4IiB5MT0iMjIwIiB4Mj0iMTA4IiB5Mj0iMjcyIiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8bGluZSB4MT0iMTA4IiB5MT0iMjQ4IiB4Mj0iMTYwIiB5Mj0iMjQ4IiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8cG9seWdvbiBwb2ludHM9IjE2MCwyNDQgMTY4LDI0OCAxNjAsMjUyIiBjbGFzcz0iZmlsbGVkIj48L3BvbHlnb24+CiAgICAgICAgPHBhdGggZD0iTSAyMCwyNzYgQSA0LDQgMCwwLDAgMjQsMjgwIiBjbGFzcz0ibm9maWxsIj48L3BhdGg+CiAgICAgICAgPGxpbmUgeDE9IjI0IiB5MT0iMjgwIiB4Mj0iMTA0IiB5Mj0iMjgwIiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgIDwvZz4KICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0gMTc2LDIxNiBBIDQsNCAwLDAsMCAxNzIsMjIwIiBjbGFzcz0ibm9maWxsIj48L3BhdGg+CiAgICAgICAgPGxpbmUgeDE9IjE3MiIgeTE9IjIyMCIgeDI9IjE3MiIgeTI9IjI3NiIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPGxpbmUgeDE9IjE3NiIgeTE9IjIxNiIgeDI9IjI3MiIgeTI9IjIxNiIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPHBhdGggZD0iTSAyNzIsMjE2IEEgNCw0IDAsMCwxIDI3NiwyMjAiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iMjc2IiB5MT0iMjIwIiB4Mj0iMjc2IiB5Mj0iMjcyIiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8bGluZSB4MT0iMjc2IiB5MT0iMjQ4IiB4Mj0iMjk2IiB5Mj0iMjQ4IiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8cG9seWdvbiBwb2ludHM9IjI5NiwyNDQgMzA0LDI0OCAyOTYsMjUyIiBjbGFzcz0iZmlsbGVkIj48L3BvbHlnb24+CiAgICAgICAgPHBhdGggZD0iTSAxNzIsMjc2IEEgNCw0IDAsMCwwIDE3NiwyODAiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iMTc2IiB5MT0iMjgwIiB4Mj0iMjcyIiB5Mj0iMjgwIiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgIDwvZz4KICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0gMzEyLDIxNiBBIDQsNCAwLDAsMCAzMDgsMjIwIiBjbGFzcz0ibm9maWxsIj48L3BhdGg+CiAgICAgICAgPGxpbmUgeDE9IjMwOCIgeTE9IjIyMCIgeDI9IjMwOCIgeTI9IjI3NiIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPGxpbmUgeDE9IjMxMiIgeTE9IjIxNiIgeDI9IjQxNiIgeTI9IjIxNiIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPHBhdGggZD0iTSA0MTYsMjE2IEEgNCw0IDAsMCwxIDQyMCwyMjAiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iNDIwIiB5MT0iMjIwIiB4Mj0iNDIwIiB5Mj0iMjcyIiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgICAgICA8cGF0aCBkPSJNIDMwOCwyNzYgQSA0LDQgMCwwLDAgMzEyLDI4MCIgY2xhc3M9Im5vZmlsbCI+PC9wYXRoPgogICAgICAgIDxsaW5lIHgxPSIzMTIiIHkxPSIyODAiIHgyPSI0MTYiIHkyPSIyODAiIGNsYXNzPSJzb2xpZCI+PC9saW5lPgogICAgPC9nPgogICAgPGc+CiAgICAgICAgPGxpbmUgeDE9IjE0MCIgeTE9IjI1NiIgeDI9IjE0MCIgeTI9IjMwOCIgY2xhc3M9InNvbGlkIj48L2xpbmU+CiAgICAgICAgPHBhdGggZD0iTSAxNDAsMzA4IEEgNCw0IDAsMCwwIDE0NCwzMTIiIGNsYXNzPSJub2ZpbGwiPjwvcGF0aD4KICAgICAgICA8bGluZSB4MT0iMTQ0IiB5MT0iMzEyIiB4Mj0iNDQwIiB5Mj0iMzEyIiBjbGFzcz0ic29saWQiPjwvbGluZT4KICAgIDwvZz4KPC9zdmc+" width="456" height="336" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">‚Äã</a></h2><ul><li><a href="https://solana.com/news/getting-started-with-solana-development" target="_blank" rel="noopener noreferrer">Getting Started with Solana Development</a></li><li><a href="https://workshop.neodyme.io/index.html" target="_blank" rel="noopener noreferrer">Solana Security Workshop</a></li><li><a href="https://docs.solana.com/developing/on-chain-programs/overview" target="_blank" rel="noopener noreferrer">Writing Programs Overview</a></li><li><a href="https://docs.solana.com/developing/on-chain-programs/deploying" target="_blank" rel="noopener noreferrer">Deploying Programs</a></li><li><a href="https://jstarry.notion.site/Program-deploys-29780c48794c47308d5f138074dd9838#d610bf6a3f3a4e8eb299a6d79549a233" target="_blank" rel="noopener noreferrer">https://jstarry.notion.site/Program-deploys-29780c48794c47308d5f138074dd9838#d610bf6a3f3a4e8eb299a6d79549a233</a></li><li><a href="https://twitter.com/solana_devs/status/1572673862789369856" target="_blank" rel="noopener noreferrer">https://twitter.com/solana_devs/status/1572673862789369856</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/smart-contracts/solana"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Solana</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/smart-contracts/solana-spl"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Solana Program Library</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#solana-programs" class="table-of-contents__link toc-highlight">Solana Programs</a></li><li><a href="#solana-development-setup" class="table-of-contents__link toc-highlight">Solana Development Setup</a></li><li><a href="#concepts" class="table-of-contents__link toc-highlight">Concepts</a></li><li><a href="#ebpf" class="table-of-contents__link toc-highlight">eBPF</a><ul><li><a href="#memory-map" class="table-of-contents__link toc-highlight">Memory map</a></li><li><a href="#stack--heap" class="table-of-contents__link toc-highlight">Stack &amp; Heap</a></li></ul></li><li><a href="#how-is-a-solana-program-deployed" class="table-of-contents__link toc-highlight">How is a Solana program deployed</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.837c66bb.js"></script>
<script src="/assets/js/main.ac57620b.js"></script>
</body>
</html>